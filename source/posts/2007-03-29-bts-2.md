---
title: BTS - バグトラッキングシステムの利用（２）
date: 2007-03-29 15:44 JST
authors: akahige
tags: dev_style, 
---
<p><a href="/bts-1.html" alt="BTS - バグトラッキングシステムの利用（１）">前回</a>からかなり間が空いてしまいましたが、さて今回は実際の運用に関してです。</p>
<a href="/images/2007/03/imgp0908.jpg" target="_blank">
<img src="/images/2007/03/imgp0908.jpg" alt="BTS人形" width="320px" height="240px" />
</a>
<!--more-->
<h2>普通のBTS運用</h2>
<p>まず影舞による一般的な運用から。<br />
一般的な運用ではバグレポートは以下の流れを順にたどります。</p>

<table class="widetable">
<tr><th>新規</th><td>ポストされたばかりのレポート</td></tr>
<tr><th>受付済 </th><td>担当者がアサインされた状態</td></tr>
<tr><th>修正済 </th><td>担当者が修正済みの状態</td></tr>
<tr><th>完了 </th><td>確認等を経て完了した状態</td></tr>
</table>

<p>バグを発見した人がBTSにバグレポートをポストし、開発側がその対応に担当者をアサインします。<br />
アサインされた担当者はバグを修正し、修正が完了したら確認等を経て完了をレポートします。</p>

<p>「バグトラッキングシステム」という名前そのままのシンプルな運用ですね。<br />
影舞以外のBTSでもここらへんは基本的に同じであるかと思います。</p>

<p>ついでにポストやリプライの内容がメンバー全員にメールで飛ぶようにしたり、RSSで購読できるようにするのも一般的ですかね。</p>

<h2>FFの場合</h2>
<p>私たちもとりあえず上記のような運用からスタートして、その後走りながら試行錯誤を重ねていきました。<br />
その結果、現在では以下のような流れでバグを処理しています。</p>

<table class="widetable">
<tr><th>新規 </th><td>ポストされたばかりのレポート</td></tr>
<tr><th>受付 </th><td>技術チームが問題を確認した状態</td></tr>
<tr><th>実行中 </th><td>担当者がタスクとしてコミットした状態</td></tr>
<tr><th>実行済 </th><td>担当者が作業を完了して確認者に確認を依頼した状態</td></tr>
<tr><th>リリース待ち </th><td>確認者が修正内容を確認してリリースを待っている状態</td></tr>
<tr><th>完了 </th><td>修正がリリースされ、確認者が本番環境で再度修正内容を確認した状態</td></tr>
</table>

<p>担当者に関しては一方的なアサインはせずに、担当者自らがコミットして作業を開始するようになっています。<br />
担当者は作業を開始したらステータスを実行中にして自分が取り組んでいることをアピールします。</p>

<p>修正作業が終わるとレポートのステータスは実行済みとなり、担当以外の他のメンバー（確認者）に修正の確認依頼がかかります。<br />
確認者は修正内容の確認を行い、問題がなければリリース待ちとします。</p>

<p>リリース待ちのものは本番にリリースされたタイミングで、再び確認者が確認を行い、本番環境でも問題がなければ完了とします。</p>

<p>確認の手間が二度にわたっていてめんどくさいと思われるかもしれませんが、品質の維持や修正の抜けによる手戻りが発生することを考えればコスト的には高くないと考えています。</p> 

<h2>BTS人形</h2>
<p>さてところで上記のように作業からリリースまでの間に以上のフローを定めたのはいいのですが、実際には実行済み状態で放置されるレポートが多数発生。<br />
修正のリリースに支障をきたすという事態がしばしば起こるようになりました。</p>

<p>そこでその状況を打開すべく登場したのが次のBTS人形です。</p>

<a href="/images/2007/03/imgp0908.jpg" target="_blank">
<img src="/images/2007/03/imgp0908.jpg" alt="BTS人形" width="320px" height="240px" />
</a>

<p>確認を依頼する際、これ見よがしに確認者の机の目立つところやキーボードの上に置くのが正しい使い方です。<br />
彼らのおかげで確認忘れがほぼなくなり、修正作業からリリースまでの流れがスムーズになりました。</p>

<p>ただしごくたまに誰かの机の上に定住してしまっている人形もいたりするので、そうならないようにたまにチェックをいれる必要はありそうです。</p>

<h2>アグレッシブなBTS運用</h2>
<p>FFでは機能追加や改良に関する要望や提案などもBTSで管理しています。<br />
すべての要望はまずBTSに登録されて検討されます。</p>

<p>BTSのこうした使い道に関しては<a href="http://www.mozilla.gr.jp/docs/beginbugzilla/#BugIs">Bugzillaのドキュメント</a>にも見られるように、
BTS運用の第二のステップとしては割と普通のことなのかなと思います。<br />
この流れが更に発展していくと、Tracなどに見られるようなプロジェクト管理ツールへの統合や進化の方向へ向かっていくみたいですね。</p>

<h2>とはいえあんまり複雑にしても</h2>
<p>現在のFFのBTSを見ると、他にもいろんな項目がオプションとして追加されています。</p>

<p>バグや要望のレポートをより効率よくかつシステマチックに処理しようとした努力の跡です。<br />
でも実際はちょっとの間使われただけで、それらの項目は今は使われなくなってしまいました。</p>

<p>複雑なものや面倒なものはそれを利用するモチベーションが切れると使われなくなるのが常です。<br />
ツールの助けがあるとはいえ、運用をシンプルにしていくことはやはり大切なのでありますね。</p>

<h2>まとめ</h2>
<p>というわけで以上がFFのBTS運用のお話でした。</p>
<p>日々試行錯誤しつつ運用しているので、常に変わる可能性はありますが、現時点ではこんなかんじです。</p>
<p>また何か大きな変化や思いついたことがあれば第三弾を書くかもしれませんが、とりあえず今回のところはこれにて。</p>
<p>ではでは。</p>
